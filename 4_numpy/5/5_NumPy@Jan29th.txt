
NumPy Filter Array
Filtering Arrays
Getting some elements out of an existing array and creating a new array out of them is called filtering. In NumPy, you filter an array using a Boolean index list. A Boolean index list is a list of Booleans corresponding to indexes in the array.

Example:
import numpy as np
arr = np.array([41, 42, 43, 44])
x = [True, False, True, False]
newarr = arr[x]
print(newarr)

NOTE: 
The example above will return [41, 43], Because the new array contains only the values where the filter array had the value True, in this case, index 0 and 2.

Creating the Filter Array
In the example above we hard-coded the True and False values, but the common use is to create a filter array based on conditions.

Example:
import numpy as np
arr = np.array([41, 42, 43, 44])
# Create an empty list
filter_arr = []
# go through each element in arr
for element in arr:
  # if the element is higher than 42, set the value to True, otherwise False:
  if element > 42:
    filter_arr.append(True)
  else:
    filter_arr.append(False)
newarr = arr[filter_arr]
print(filter_arr)
print(newarr)

Creating Filter Directly From Array
The above example is quite a common task in NumPy and NumPy provides a nice way to tackle it. We can directly substitute the array instead of the iterable variable in our condition and it will work just as we expect it to.

Example:
import numpy as np
arr = np.array([41, 42, 43, 44])
filter_arr = arr > 42
newarr = arr[filter_arr]
print(filter_arr)
print(newarr)

Example:
import numpy as np
arr = np.array([1, 2, 3, 4, 5, 6, 7])
filter_arr = arr % 2 == 0
newarr = arr[filter_arr]
print(filter_arr)
print(newarr)

Python NumPy Indexing and Slicing
Array indexing is the same as accessing an array element. You can access an array element by referring to its index number. The indexes in NumPy arrays start with 0, meaning that the first element has index 0, and the second has index 1 etc.

Numpy Indexing:
Single Dimension Array:
x=[1, 2, 3, 4, 5, 6, 7, 8]

Indexing Left to Right ==> 
1, 2, 3, 4, 5, 6, 7, 8
0  1  2  3  4  5  6  7

Indexing Right to Left ==> 
1,    2,   3,   4,   5,   6,   7,   8
-8  -7  -6   -5   -4  -3   -2  -1

Example:
import numpy as np  
x=np.array([1,2,3,4,5,6,7])
print(x[3])
print(x[-1])
print(x[-4])

Example:
import numpy as np
PyArr = np.array([1, 2, 3, 4])
print(PyArr[0]) 
print(PyArr[1]) 
print(PyArr[3]) 

Example:
import numpy as np
PyArr = np.array([1, 2, 3, 4])
print(PyArr[1] +PyArr[3]) 
print(PyArr[2] +PyArr[3]) 
print(PyArr[2] -PyArr[3]) 

Access 2-D Arrays
To access elements from 2-D arrays we can use comma separated integers representing the dimension and the index of the element. Two Dimension Array:Array of One Dimensional Array, Collection of rows and columns.
	-2	-1(Index Right to Left)
	0	1 (Index Left to Right)
0  -3	1	2
1  -2	3	4
2  -1	5	6

Syntax:
if row is i, col is j==> a[i][j]

Example: Access Elements
print(a[0][1]) ==> 2
print(a[-3][-1]) ==> 2

Example:
import numpy as np
PyArr = np.array([[1,2,3,4,5], [6,7,8,9,10]])
print(PyArr[0, 1]) 
print(PyArr[0, 3]) 
print(PyArr[1, 3]) 
print(PyArr[1, 1]) 

Example:
import numpy as np  
PyArr=np.array([[1,2,3],[4,5,6]])
print(PyArr)
print(PyArr[0][0])
print(PyArr[0][1])
print(PyArr[-2][-1])

NOTE: Don't Use positive & Negative indexing mix in NUMPY Lib.

3. Three Dimensional Array: Array of two dimensional arrays.
To access elements from 3-D arrays we can use comma separated integers representing the dimensions and the index of the element.

First Two Dimesional Array
	-1	-2	-3	-4 (Indexing Right to Left)
	0 	1	2 	3 (Indexing Left to Right)
0  -3	1	2	3	4
1  -2	5	6	7	8
2  -1	9	10	11	12

Second Two Dimesional Array
	-1	-2	-3	-4 (Indexing Right to Left)
	0 	1	2 	3 (Indexing Left to Right)
0 -3	13	14	15	16
1 -2	17	18	19	20
2 -1	21	22	23	24

i means==> 2 (2 Dimensional Arrays-2 (0 & 1)
j means ==> Rows ==> 3
k means ==> Cols ==> 4

x[i][j][k] ==> a[2][3][4]

Example:
import numpy as np
PyArr = np.array([[[1, 2, 3], [4, 5, 6]], [[7, 8, 9], [10, 11, 12]]])
print(PyArr[0, 1, 2]) 

Detailed Explanation:
The first number represents the first dimension, which contains two arrays:
[[1, 2, 3], [4, 5, 6]] and: [[7, 8, 9], [10, 11, 12]]
Since we selected 0, we are left with the first array:
[[1, 2, 3], [4, 5, 6]]

The second number represents the second dimension, which also contains two arrays:
[1, 2, 3] and: [4, 5, 6]
Since we selected 1, we are left with the second array: [4, 5, 6]
The third number represents the third dimension, which contains three values:
4 5 6 ==> Since we selected 2, we end up with the third value:6

Example:
import numpy as np
PyArr = np.array([[[1, 2, 3], [4, 5, 6]], [[7, 8, 9], [10, 11, 12]]])
print(PyArr[0, 1, 1]) 
print(PyArr[0, 1, 2])
print(PyArr[1, 1, 2])

Example:
import numpy as np  
PyArr=np.array([[[1,2,3,4],[5,6,7,8],[9,10,11,12]],[[13,14,15,16],[17,18,19,20],[21,22,23,24]]])
print(PyArr)
print(PyArr[0][0][1])
print(PyArr[-2][-3][-3])
print(PyArr[1][0][3])

Negative Indexing
Use negative indexing to access an array from the end.

Example:
import numpy as np
PyArr = np.array([[1,2,3,4,5], [6,7,8,9,10]])
print(PyArr[1, -1]) 
print(PyArr[1, -2]) 
print(PyArr[0, -1]) 
print(PyArr[0, -4]) 

NumPy Array Slicing:
Slicing arrays
Slicing in python means taking elements from one given index to another given index.
We pass slice instead of index like this: [start:end].
We can also define the step, like this: [start:end:step].
If we don't pass start its considered 0 (Default)
If we don't pass end its considered length of array in that dimension(Default)
If we don't pass step its considered 1 (Default)

Example:1Dimension Array
import numpy as np
PyArr = np.array([1, 2, 3, 4, 5, 6, 7])
print(PyArr[1:5]) 
print(PyArr[4:]) 
print(PyArr[:4]) 

Negative Slicing
Use the minus operator to refer to an index from the end:

Example:
import numpy as np
PyArr = np.array([1, 2, 3, 4, 5, 6, 7])
print(PyArr[-3:-1]) 

STEP
Use the step value to determine the step of the slicing:

Example:
import numpy as np
PyArr = np.array([1, 2, 3, 4, 5, 6, 7])
print(PyArr[1:5:2]) 
print(PyArr[::2]) 
print(PyArr[::3]) 
print(PyArr[::-1]) 
print(PyArr[::]) #start=>0, stop=>LengthOfArray,Step=>Default One.
#It is treated as PyArr[0:7:1]

Slicing 2-Dimensions Arrays
Example:
import numpy as np
PyArr = np.array([[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]])
print(PyArr[1, 1:4]) 
print(PyArr[0, 1:4]) 
print(PyArr[1, 2:5]) 

NOTE:(,) indicates from all rows

Example:
import numpy as np
PyArr = np.array([[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]])
print(PyArr[0:2,2]) 
print(PyArr[1:2,2]) 
print(PyArr[0:1,1]) 

Example:
import numpy as np
PyArr = np.array([[1,2,3,4,5], [6,7,8,9,10]])
print(PyArr[0:2, 0:2]) 
print(PyArr[1:2, 1:3]) 
print(PyArr[0:1, 1:1]) 

Example:Interview Question
import numpy as np
PyArr = np.array([[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]])
print(PyArr[0:2, 1:4]) 

Slicing 3-Dimensions Arrays
Example:
import numpy as np  
PyArr=np.array([[[10,20,30],[40,50,60]],[[70,80,90],[100,110,120]]])
print(PyArr.ndim)
print(PyArr[0,1,0:2])
print(PyArr[1,1,0:2])
print(PyArr[1,0,0:3])
print(PyArr[0,0,0:2])

Example:
import numpy as np  
PyArr=np.array([[[1,2,3,4],[5,6,7,8],[9,10,11,12]],[[13,14,15,16],[17,18,19,20],[21,22,23,24]]])
print(PyArr.ndim)
print(PyArr[0,1,0:2])
print(PyArr[0,2,0:2])
print(PyArr[1,2,0:2])
print(PyArr[1,2,1:3])

Python NumPy Advanced Indexing
Slicing in NumPy array is only used to present a view whereas advanced indexing always returns a copy of the data. Array Indexing is classified into the following two types:
1. Integer Indexing
2. Boolean Indexing

1. Integer Indexing
With the help of the Integer Indexing mechanism, you can select any arbitrary item based on the N-dimensional Index. Also, each integer array is used to represent the number of indexes into that dimension.

Syntax:
result[i_1, ..., i_M] == x[ind_1[i_1, ..., i_M], ind_2[i_1, 
..., i_M], ..., ind_N[i_1, ..., i_M]]

Example:
import numpy as np 
PyArr = np.array([[11, 28], [23, 84], [95, 56]]) 
MyArr = PyArr[[0,1,2], [0,0,1]] 
print(MyArr) 

Example:
import numpy as np
PyArr=np.array([[1,2],[3,4],[5,6]])
print(PyArr)
print(PyArr[[0,1,2],[0,1,0]])
print(PyArr[0])
print(PyArr[2])

Example:
import numpy as np
PyArr=np.array([[1,2],[3,4],[5,6]])
print(PyArr)
print(PyArr[[0],[1]])
print(PyArr[[0],[2]])

Example:
import numpy as np 
PyArr = np.array([[10, 81, 2], [3, 43, 35], [63, 72, 8], [92, 10, 11]]) 
PyRows = np.array([[0], [3]])
MyArr = PyArr[PyRows] 
print (MyArr)

Example:Add Operation
import numpy as np
PyArr=np.array([[1,2],[3,4],[5,6]])
print(PyArr)
print(PyArr[[0],[1]]+1)
print(PyArr[[1],[1]]+1)
print(PyArr[[2],[1]]+3)

Example:New Copy of an Array
import numpy as np
PyArr=np.array([[1,2],[3,4],[5,6]])
print(PyArr)
PyArr[[0],[1]]+=1
PyArr[[1],[1]]+=1
PyArr[[2],[1]]+=3
print(PyArr)

2. Boolean Indexing
It is a kind of advanced indexing that is used when we want to pick elements from an ndarray based on some condition using comparison operators or some other operator. It is used when the result is going to be the outcome of boolean operations.

Example:
import numpy as np 
PyArr = np.array([[11, 51, 2],[23, 24, 5], [16, 47, 8] ,[91, 10, 11]]) 
print(PyArr[PyArr>5])
print(PyArr[PyArr>=30])
print(PyArr[PyArr>51])

Example:
import numpy as np 
PyArr = np.array([np.nan, 1, 12, np.nan, 3, 41, 54]) 
#After omitting NaN the output array is
print (PyArr[~np.isnan(PyArr)])
#After omitting Except NaN the output array is
print (PyArr[np.isnan(PyArr)])

Example:
Remove Non-Complex Numbers
You will understand how to filter out the non-complex elements from an array:

Example:
import numpy as np 
PyArr = np.array([1, 2+6j, 5, 3.5+5j]) 
print(PyArr)
#After Filtering the non-complex numbers
print (PyArr[np.iscomplex(PyArr)])

Example:
import numpy as np
PyArr=np.array([[0,1,2],[3,4,5],[6,7,8],[9,10,11]])
print(PyArr)
print(PyArr[PyArr%2==0])
print(PyArr[PyArr%2!=0])